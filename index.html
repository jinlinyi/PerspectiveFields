<html>
  <head>
    <title>Perspective Fields</title>
    <meta property="og:title" content="Perspective Fields for Single Image Camera Calibration"/>
    <meta property="og:image" content="teaser.png"/>
    <meta property="og:description" content="Project page for paper: Perspective Fields for Single Image Camera Calibration" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- webpage template-->
    <link rel="stylesheet" href="website.css">
    <link rel="stylesheet" href="slider.css">

  </head>
  <body>
    <br>
    <center>
      <span style="font-size:38px">Perspective Fields for Single Image Camera Calibration</span>
    </center>
    <br><br>
    <table align=center width=100%>
      <tr>
        <td align=center width=12%>
          <span><a href="https://jinlinyi.github.io/">Linyi Jin<sup>1</sup></a></span>
        </td>
        <td align=center width=12%>
          <span><a href="https://jimmie33.github.io/">Jianming Zhang<sup>2</sup></a></span>
        </td>
        <td align=center width=12%>
          <span><a href="https://yannickhold.com/">Yannick Hold-Geoffroy<sup>2</sup></a></span>
        </td>
        <td align=center width=12%>
          <span><a href="http://www.oliverwang.info/">Oliver Wang<sup>2</sup></a></span>
        </td>
        <td align=center width=12%>
          <span><a href="http://kmatzen.com/">Kevin Matzen<sup>2</sup></a></span>
        </td>
        <td align=center width=12%>
          <span><a href="https://www.linkedin.com/in/matthew-sticha-746325202">Matthew Sticha<sup>1</sup></a></span>
        </td>
        <td align=center width=12%>
          <span><a href="https://web.eecs.umich.edu/~fouhey/">David F. Fouhey<sup>1</sup></a></span>
        </td>
      </tr>
    </table>
    <br>
    <table align=center width=40%>
      <tr>
        <td align=center>
          <center>
            <span style="font-size:20px"><sup>1</sup>University of Michigan</span> <br><br>
          </center>
        </td>
        <td align=center>
          <center>
            <span style="font-size:20px"><sup>2</sup>Adobe Research</span> <br><br>
          </center>
        </td>
      </tr>

    </table>

    <tr>
      <td align=center>
        <center>
          
        <span style="font-size:20px">CVPR 2023 (<span style="color:#a00"><b>Highlight</b></span>)</span>
        </center>
      </td>
    </tr>

    <br>
    <table align=center width=100%>
      <tr>
        <td align=center width=20%>
          <center>
            <span style="font-size:20px"><a href="https://arxiv.org/abs/2212.03239">[arXiv]</a></span>
          </center>
        </td>
        <td align=center width=20%>
          <center>
            <span style="font-size:20px"><a href="https://github.com/jinlinyi/PerspectiveFields">[code]</a></span>
          </center>
        </td>
        <td align=center width=20%>
          <center>
            <span style="font-size:20px"><a href="https://www.youtube.com/watch?v=sN5B_ZvMva8">[video]</a></span>
          </center>
        </td>
      </tr>
    </table>
    <table align=center width=100%>
    </table>
    <br>
    <table align=center width=100%>
      <tr>
        <td>
          <center>
            <img src = "teaser.png" width="100%"></img><br>
          </center>
        </td>
      </tr>
      <td width=600px>
          <span style="font-size:14px"><i>(A): a photo (credit David Clapp) with an off-centered principal point.
            (B), (C): assuming traditional pinhole model with principal point at the center,
            there is no way to correctly represent both up directions (wrong in B) and horizon (wrong in C).
            (D): Our proposed Perspective Fields model correctly models the Up-vectors (<span style="color:#41B254"><b>Green</b></span> arrows) aligned with gravity, 
            and Latitude values (contour line: -&pi;/2 <img src="resources/seismic.png" width="5%"></img> &pi;/2) with 0&deg; on  the horizon.
            We can further recover camera parameters Roll -0.5&deg;, Pitch 1.7&deg;, FoV 64.6&deg; and principal point at &#215; from the prediction.
             </i>
      </td>
      </tr>
    </table>
	<br>
	<div>
		<center>
		<p class="abstract">
			Geometric camera calibration is often required for applications that understand the perspective of the image. 
      We propose perspective fields as a representation that models the local perspective properties of an image. 
      Perspective Fields contain per-pixel information about the camera view, parameterized as an up vector and a latitude value. 
      This representation has a number of advantages as it makes minimal assumptions about the camera model and is invariant or equivariant 
      to common image editing operations like cropping, warping, and rotation. It is also more interpretable and aligned with human perception. 
      We train a neural network to predict Perspective Fields and the predicted Perspective Fields can be converted to calibration parameters easily. 
      We demonstrate the robustness of our approach under various scenarios compared with camera calibration-based methods and show example applications in image compositing.
		</p>
		</center>
  </div>
  <br><br>
  <hr>
  <center>
    <h1>Video</h1>
  </center>
  <div>
    <p align="center">
      <iframe style="width: 70%; height:60%; min-width:300px" src="https://www.youtube.com/embed/sN5B_ZvMva8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </p>
  </div>

  <!-- <div id="panorama"></div>
  <script>
  pannellum.viewer('panorama', {
      "type": "equirectangular",
      "panorama": "https://pannellum.org/images/alma.jpg"
  });
  </script> -->

<hr>
<center>
  <h1>Perspective Fields on Pinhole Camera</h1>
</center>
<div>
  <p align="center">
    Check out how Perspective Fields change w.r.t. traditional camera parameters. 
  </p>
  <p align="center">
    Roll&nbsp; &nbsp; &nbsp;<input id="valRoll" type="range" min="-40" max="40" value="0" step="10" oninput="showVal()" onchange="showVal()" />
    <span id="range_roll" class="range-slider__value">0</span><br>

    Pitch&nbsp;&nbsp;  <input id="valPitch" type="range" min="-90" max="90" value="0" step="10" oninput="showVal()" onchange="showVal()" />
    <span id="range_pitch" class="range-slider__value">0</span><br>

    FoV&nbsp; &nbsp;<input id="valFoV" type="range" min="50" max="100" value="70" step="10" oninput="showVal()" onchange="showVal()" />
    <span id="range_fov" class="range-slider__value">70</span><br>

    <table align=center width=100%>
      <tr>
        <td>
          <center>
            <img id="img"  width="50%">  
          </center>
        </td>
      </tr>
    </table>

    <!-- <div class='container'>
      <div class='img background-img' id="img_blend"></div>
      <div class='img foreground-img' id="img_original"></div>
      <input type="range" min="1" max="100" value="50" class="slider" name='slider' id="slider">
      <div class='slider-button'></div>
    </div> -->
  </p>
  <p class="definition">
    For each pixel location, the Perspective Field consists of a unit <b><i>Up-vector</i></b> and <b><i>Latitude</i></b>. 
    The <b><i>Up-vector</i></b> is the projection of the up direction, shown in <span style="color:#41B254"><b>Green</b></span> arrows.
    In perspective projection, it points to the vertical vanishing point. 
    The <b><i>Latitude</i></b> of each pixel is defined as the angle between the incoming ray and the horizontal plane. 
    We show it using contour line: -&pi;/2 <img src="resources/seismic.png" width="5%"></img> &pi;/2. Note 0&deg; is at the horizon.
    
  </p>
</div>

<script>


var valRoll = document.getElementById("valRoll").value;
var valPitch = document.getElementById("valPitch").value;
var valFoV = document.getElementById("valFoV").value;
document.getElementById("range_roll").innerHTML=valRoll;
document.getElementById("range_pitch").innerHTML=valPitch;
document.getElementById("range_fov").innerHTML=valFoV;
document.getElementById("img").src = "resources/interactive_demo/blend_roll" + valRoll + "_pitch" + valPitch + "_vfov" + valFoV + ".jpg";
// document.getElementById("img_blend").url = "output/blend_roll" + valRoll + "_pitch" + valPitch + "_vfov" + valFoV + ".png";
// document.getElementById("img_original").url = "output/raw_roll" + valRoll + "_pitch" + valPitch + "_vfov" + valFoV + ".png";
function showVal(){
  var valRoll = document.getElementById("valRoll").value;
  var valPitch = document.getElementById("valPitch").value;
  var valFoV = document.getElementById("valFoV").value;
  document.getElementById("range_roll").innerHTML=valRoll;
  document.getElementById("range_pitch").innerHTML=valPitch;
  document.getElementById("range_fov").innerHTML=valFoV;
  document.getElementById("img").src = "resources/interactive_demo/blend_roll" + valRoll + "_pitch" + valPitch + "_vfov" + valFoV + ".jpg";
  // document.getElementById("img_blend").url = "output/blend_roll" + valRoll + "_pitch" + valPitch + "_vfov" + valFoV + ".png";
  // document.getElementById("img_original").url = "output/raw_roll" + valRoll + "_pitch" + valPitch + "_vfov" + valFoV + ".png";
}
</script>
<hr>
<center>
    <h1>Qualitative Results</h1>
</center>

<p>
  We can train a neural network to predict Perspective Fields from images in the wild. Below are some examples.
  
</p>
<center>
<table align=center width=80%>
  <tr>
    <td width=47%>
        <center>
            <h3> Input </h3>
        </center>
    </td>
    <td width=6%>
        <center>
            <!-- <h3> </h3> -->
        </center>
    </td>
    <td width=47%>
        <center>
            <h3> Perspective Fields </h3>
        </center>
    </td>
  </tr>
</table>
<div style="height:80%;width:100%;overflow:scroll;">
  <table align=center width=80%>
    

    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_324810274/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_324810274/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_363182152_crop/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_363182152_crop/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_331358641/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_331358641/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_346209022/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_346209022/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_286429091/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_286429091/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>

    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/i4/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/i4/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_281409603/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_281409603/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/i5/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/i5/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_213966069/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_213966069/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/city-336708/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/city-336708/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/31897637928_f7b96f4c54_o/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/31897637928_f7b96f4c54_o/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/df905f9527875e25e0f1e581e8c3d93e--cityscape-photography-urban-photography/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/df905f9527875e25e0f1e581e8c3d93e--cityscape-photography-urban-photography/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_247343062/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_247343062/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_133910589/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_133910589/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_100493759/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_100493759/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>

    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_293181326/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_293181326/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>




    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_376354836/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_376354836/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>

    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_249426052/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_249426052/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_288601275/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_288601275/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_111358819/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_111358819/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>


    <tr>
      <td width=47%>
          <div>
              <p align="center">
                  <img src="resources/merged/AdobeStock_366525358/rgb.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
      <td width=6%>
          <center>
              <!-- <h3> </h3> -->
          </center>
      </td>
      <td width=47%>
          <div>
              <p align="center">
                <img src="resources/merged/AdobeStock_366525358/perspective_pred.jpg" width="100%" style="border:1px solid black;"></img>
              </p>
          </div>
      </td>
    </tr>



</table>
</div>
</center>

<p>
  Moreover, it generalizes to non-perspective projections, such as the multi-perspective scene from Inception or artworks with various camera models.
</p>

<table align=center width=100%>
  <tr>
    <td>
      <center>
        <img src = "resources/nonpers.png" width="100%"></img><br>
      </center>
    </td>
  </tr>
</table>

<br><hr>

<table align=center width=65%>
  <center><h1>Paper and Supplementary Material</h1></center>
  <tr>
      <td><a href="https://arxiv.org/abs/2212.03239"><img class="layered-paper-big" style="height:175px" src="./resources/paper.jpg"/></a></td>
      <td><span style="font-size:14pt">Linyi Jin, Jianming Zhang, Yannick Hold-Geoffroy, Oliver Wang, Kevin Matzen, Matthew Sticha, David F. Fouhey<br>
          <b>Perspective Fields for Single Image Camera Calibration.</b><br>
          CVPR 2023.<br>
          <!-- (hosted on <a href="#">ArXiv</a>)<br> -->
          <!-- (<a href="#">Arxiv</a>)<br> -->
          (<a href="https://arxiv.org/abs/2212.03239">Paper</a>)<br>
          <span style="font-size:4pt"><a href=""><br></a>
          </span>
      </td>
  </tr>
</table>
<br>

<table align=center width=60%>
  <tr>
      <td><span style="font-size:14pt"><center>
          <a href="./resources/bibtex.txt">[Bibtex]</a>
      </center></td>
  </tr>
</table>
<br>
<hr>
<br>
    <table align=center width=100%>
      <tr>
        <td>
          <left>
            <center>
              <h1>Acknowledgements</h1>
              
			  This webpage template originally made from some <a href="https://richzhang.github.io/colorization/">colorful folks</a>.
            </center>
          </left>
        </td>
      </tr>
    </table>
  </body>
</html>
